{
  "version": 3,
  "sources": ["wpr-beacon.js"],
<<<<<<< HEAD
  "sourcesContent": ["(() => {\n  // src/Utils.js\n  var BeaconUtils = class {\n    static isNotValidScreensize(is_mobile, threshold) {\n      const screenWidth = window.innerWidth || document.documentElement.clientWidth;\n      const screenHeight = window.innerHeight || document.documentElement.clientHeight;\n      const isNotValidForMobile = is_mobile && (screenWidth > threshold.width || screenHeight > threshold.height);\n      const isNotValidForDesktop = !is_mobile && (screenWidth < threshold.width || screenHeight < threshold.height);\n      return isNotValidForMobile || isNotValidForDesktop;\n    }\n    static isPageCached() {\n      const signature = document.documentElement.nextSibling && document.documentElement.nextSibling.data ? document.documentElement.nextSibling.data : \"\";\n      return signature && signature.includes(\"Debug: cached\");\n    }\n    static isIntersecting(rect) {\n      return rect.bottom >= 0 && rect.right >= 0 && rect.top <= (window.innerHeight || document.documentElement.clientHeight) && rect.left <= (window.innerWidth || document.documentElement.clientWidth);\n    }\n  };\n  var Utils_default = BeaconUtils;\n\n  // src/BeaconLcp.js\n  var BeaconLcp = class {\n    constructor(config, logger) {\n      this.config = config;\n      this.performanceImages = [];\n      this.logger = logger;\n    }\n    async run() {\n      try {\n        const above_the_fold_images = this._generateLcpCandidates(Infinity);\n        if (above_the_fold_images) {\n          this._initWithFirstElementWithInfo(above_the_fold_images);\n          this._fillATFWithoutDuplications(above_the_fold_images);\n        }\n      } catch (err) {\n        this.errorCode = \"script_error\";\n        this.logger.logMessage(\"Script Error: \" + err);\n      }\n    }\n    _generateLcpCandidates(count) {\n      const lcpElements = document.querySelectorAll(this.config.elements);\n      if (lcpElements.length <= 0) {\n        return [];\n      }\n      const potentialCandidates = Array.from(lcpElements);\n      const topCandidates = potentialCandidates.map((element) => {\n        if (\"img\" === element.nodeName.toLowerCase() && \"picture\" === element.parentElement.nodeName.toLowerCase()) {\n          return null;\n        }\n        let rect;\n        if (\"picture\" === element.nodeName.toLowerCase()) {\n          const imgElement = element.querySelector(\"img\");\n          if (imgElement) {\n            rect = imgElement.getBoundingClientRect();\n          } else {\n            return null;\n          }\n        } else {\n          rect = element.getBoundingClientRect();\n        }\n        return {\n          element,\n          rect\n        };\n      }).filter((item) => item !== null).filter((item) => {\n        return item.rect.width > 0 && item.rect.height > 0 && Utils_default.isIntersecting(item.rect);\n      }).map((item) => ({\n        item,\n        area: this._getElementArea(item.rect),\n        elementInfo: this._getElementInfo(item.element)\n      })).sort((a, b) => b.area - a.area).slice(0, count);\n      return topCandidates.map((candidate) => ({\n        element: candidate.item.element,\n        elementInfo: candidate.elementInfo\n      }));\n    }\n    _getElementArea(rect) {\n      const visibleWidth = Math.min(rect.width, (window.innerWidth || document.documentElement.clientWidth) - rect.left);\n      const visibleHeight = Math.min(rect.height, (window.innerHeight || document.documentElement.clientHeight) - rect.top);\n      return visibleWidth * visibleHeight;\n    }\n    _getElementInfo(element) {\n      const nodeName = element.nodeName.toLowerCase();\n      const element_info = {\n        type: \"\",\n        src: \"\",\n        srcset: \"\",\n        sizes: \"\",\n        sources: [],\n        bg_set: [],\n        current_src: \"\"\n      };\n      const css_bg_url_rgx = /url\\(\\s*?['\"]?\\s*?(.+?)\\s*?[\"']?\\s*?\\)/ig;\n      if (nodeName === \"img\" && element.srcset) {\n        element_info.type = \"img-srcset\";\n        element_info.src = element.src;\n        element_info.srcset = element.srcset;\n        element_info.sizes = element.sizes;\n        element_info.current_src = element.currentSrc;\n      } else if (nodeName === \"img\") {\n        element_info.type = \"img\";\n        element_info.src = element.src;\n        element_info.current_src = element.currentSrc;\n      } else if (nodeName === \"video\") {\n        element_info.type = \"img\";\n        const source = element.querySelector(\"source\");\n        element_info.src = element.poster || (source ? source.src : \"\");\n        element_info.current_src = element_info.src;\n      } else if (nodeName === \"svg\") {\n        const imageElement = element.querySelector(\"image\");\n        if (imageElement) {\n          element_info.type = \"img\";\n          element_info.src = imageElement.getAttribute(\"href\") || \"\";\n          element_info.current_src = element_info.src;\n        }\n      } else if (nodeName === \"picture\") {\n        element_info.type = \"picture\";\n        const img = element.querySelector(\"img\");\n        element_info.src = img ? img.src : \"\";\n        element_info.sources = Array.from(element.querySelectorAll(\"source\")).map((source) => ({\n          srcset: source.srcset || \"\",\n          media: source.media || \"\",\n          type: source.type || \"\",\n          sizes: source.sizes || \"\"\n        }));\n      } else {\n        const computed_style = window.getComputedStyle(element, null);\n        const bg_props = [\n          computed_style.getPropertyValue(\"background-image\"),\n          getComputedStyle(element, \":after\").getPropertyValue(\"background-image\"),\n          getComputedStyle(element, \":before\").getPropertyValue(\"background-image\")\n        ].filter((prop) => prop !== \"none\");\n        if (bg_props.length === 0) {\n          return null;\n        }\n        const full_bg_prop = bg_props[0];\n        element_info.type = \"bg-img\";\n        if (full_bg_prop.includes(\"image-set(\")) {\n          element_info.type = \"bg-img-set\";\n        }\n        if (!full_bg_prop || full_bg_prop === \"\" || full_bg_prop.includes(\"data:image\")) {\n          return null;\n        }\n        const matches = [...full_bg_prop.matchAll(css_bg_url_rgx)];\n        element_info.bg_set = matches.map((m) => m[1] ? { src: m[1].trim() + (m[2] ? \" \" + m[2].trim() : \"\") } : {});\n        if (element_info.bg_set.every((item) => item.src === \"\")) {\n          element_info.bg_set = matches.map((m) => m[1] ? { src: m[1].trim() } : {});\n        }\n        if (element_info.bg_set.length > 0) {\n          element_info.src = element_info.bg_set[0].src;\n          if (element_info.type === \"bg-img-set\") {\n            element_info.src = element_info.bg_set;\n          }\n        }\n      }\n      return element_info;\n    }\n    _initWithFirstElementWithInfo(elements) {\n      const firstElementWithInfo = elements.find((item) => item.elementInfo !== null);\n      if (!firstElementWithInfo) {\n        this.logger.logMessage(\"No LCP candidate found.\");\n        this.performanceImages = [];\n        return;\n      }\n      this.performanceImages = [{\n        ...firstElementWithInfo.elementInfo,\n        label: \"lcp\"\n      }];\n    }\n    _fillATFWithoutDuplications(elements) {\n      elements.forEach(({ element, elementInfo }) => {\n        if (this._isDuplicateImage(element) || !elementInfo) {\n          return;\n        }\n        this.performanceImages.push({ ...elementInfo, label: \"above-the-fold\" });\n      });\n    }\n    _isDuplicateImage(image) {\n      const elementInfo = this._getElementInfo(image);\n      if (elementInfo === null) {\n        return false;\n      }\n      const isImageOrVideo = elementInfo.type === \"img\" || elementInfo.type === \"img-srcset\" || elementInfo.type === \"video\";\n      const isBgImageOrPicture = elementInfo.type === \"bg-img\" || elementInfo.type === \"bg-img-set\" || elementInfo.type === \"picture\";\n      return (isImageOrVideo || isBgImageOrPicture) && this.performanceImages.some((item) => item.src === elementInfo.src);\n    }\n    getResults() {\n      return this.performanceImages;\n    }\n  };\n  var BeaconLcp_default = BeaconLcp;\n\n  // src/Logger.js\n  var Logger = class {\n    constructor(enabled) {\n      this.enabled = enabled;\n    }\n    logMessage(msg) {\n      if (!this.enabled) {\n        return;\n      }\n      console.log(msg);\n    }\n  };\n  var Logger_default = Logger;\n\n  // src/BeaconManager.js\n  var BeaconManager = class {\n    constructor(config) {\n      this.config = config;\n      this.lcpBeacon = null;\n      this.infiniteLoopId = null;\n      this.errorCode = \"\";\n      this.logger = new Logger_default(this.config.debug);\n    }\n    async init() {\n      this.scriptTimer = /* @__PURE__ */ new Date();\n      if (!await this._isValidPreconditions()) {\n        this._finalize();\n        return;\n      }\n      this.infiniteLoopId = setTimeout(() => {\n        this._handleInfiniteLoop();\n      }, 1e4);\n      const isGeneratedBefore = await this._getGeneratedBefore();\n      let shouldSaveResultsIntoDB = false;\n      const shouldGenerateLcp = this.config.status.atf && (isGeneratedBefore === false || isGeneratedBefore.lcp === false);\n      if (shouldGenerateLcp) {\n        this.lcpBeacon = new BeaconLcp_default(this.config, this.logger);\n        await this.lcpBeacon.run();\n        shouldSaveResultsIntoDB = true;\n      } else {\n        this.logger.logMessage(\"Not running BeaconLcp because data is already available\");\n      }\n      if (shouldSaveResultsIntoDB) {\n        this._saveFinalResultIntoDB();\n      } else {\n        this.logger.logMessage(\"Not saving results into DB as no beacon features ran.\");\n        this._finalize();\n      }\n    }\n    async _isValidPreconditions() {\n      const threshold = {\n        width: this.config.width_threshold,\n        height: this.config.height_threshold\n      };\n      if (Utils_default.isNotValidScreensize(this.config.is_mobile, threshold)) {\n        this.logger.logMessage(\"Bailing out because screen size is not acceptable\");\n        return false;\n      }\n      return true;\n    }\n    async _getGeneratedBefore() {\n      if (!Utils_default.isPageCached()) {\n        return false;\n      }\n      let data_check = new FormData();\n      data_check.append(\"action\", \"rocket_check_beacon\");\n      data_check.append(\"rocket_beacon_nonce\", this.config.nonce);\n      data_check.append(\"url\", this.config.url);\n      data_check.append(\"is_mobile\", this.config.is_mobile);\n      const beacon_data_response = await fetch(this.config.ajax_url, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: data_check\n      }).then((data) => data.json());\n      return beacon_data_response.data;\n    }\n    _saveFinalResultIntoDB() {\n      const results = {\n        lcp: this.lcpBeacon ? this.lcpBeacon.getResults() : null\n      };\n      const data = new FormData();\n      data.append(\"action\", \"rocket_beacon\");\n      data.append(\"rocket_beacon_nonce\", this.config.nonce);\n      data.append(\"url\", this.config.url);\n      data.append(\"is_mobile\", this.config.is_mobile);\n      data.append(\"status\", this._getFinalStatus());\n      data.append(\"results\", JSON.stringify(results));\n      fetch(this.config.ajax_url, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: data,\n        headers: {\n          \"wpr-saas-no-intercept\": true\n        }\n      }).then((response) => response.json()).then((data2) => {\n        this.logger.logMessage(data2.data.lcp);\n      }).catch((error) => {\n        this.logger.logMessage(error);\n      }).finally(() => {\n        this._finalize();\n      });\n    }\n    _getFinalStatus() {\n      if (\"\" !== this.errorCode) {\n        return this.errorCode;\n      }\n      const scriptTime = (/* @__PURE__ */ new Date() - this.scriptTimer) / 1e3;\n      if (10 <= scriptTime) {\n        return \"timeout\";\n      }\n      return \"success\";\n    }\n    _handleInfiniteLoop() {\n      this._saveFinalResultIntoDB();\n    }\n    _finalize() {\n      const beaconscript = document.querySelector('[data-name=\"wpr-wpr-beacon\"]');\n      beaconscript.setAttribute(\"beacon-completed\", \"true\");\n      clearTimeout(this.infiniteLoopId);\n    }\n  };\n  var BeaconManager_default = BeaconManager;\n\n  // src/BeaconEntryPoint.js\n  ((rocket_beacon_data) => {\n    if (!rocket_beacon_data) {\n      return;\n    }\n    const instance = new BeaconManager_default(rocket_beacon_data);\n    if (document.readyState !== \"loading\") {\n      setTimeout(() => {\n        instance.init();\n      }, rocket_beacon_data.delay);\n      return;\n    }\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      setTimeout(() => {\n        instance.init();\n      }, rocket_beacon_data.delay);\n    });\n  })(window.rocket_beacon_data);\n})();\n"],
  "mappings": "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",
=======
  "sourcesContent": ["(() => {\n  // src/Utils.js\n  var BeaconUtils = class {\n    static isNotValidScreensize(is_mobile, threshold) {\n      const screenWidth = window.innerWidth || document.documentElement.clientWidth;\n      const screenHeight = window.innerHeight || document.documentElement.clientHeight;\n      const isNotValidForMobile = is_mobile && (screenWidth > threshold.width || screenHeight > threshold.height);\n      const isNotValidForDesktop = !is_mobile && (screenWidth < threshold.width || screenHeight < threshold.height);\n      return isNotValidForMobile || isNotValidForDesktop;\n    }\n    static isPageCached() {\n      const signature = document.documentElement.nextSibling && document.documentElement.nextSibling.data ? document.documentElement.nextSibling.data : \"\";\n      return signature && signature.includes(\"Debug: cached\");\n    }\n    static isIntersecting(rect) {\n      return rect.bottom >= 0 && rect.right >= 0 && rect.top <= (window.innerHeight || document.documentElement.clientHeight) && rect.left <= (window.innerWidth || document.documentElement.clientWidth);\n    }\n  };\n  var Utils_default = BeaconUtils;\n\n  // src/BeaconLcp.js\n  var BeaconLcp = class {\n    constructor(config, logger) {\n      this.config = config;\n      this.performanceImages = [];\n      this.logger = logger;\n    }\n    async run() {\n      try {\n        const above_the_fold_images = this._generateLcpCandidates(Infinity);\n        if (above_the_fold_images) {\n          this._initWithFirstElementWithInfo(above_the_fold_images);\n          this._fillATFWithoutDuplications(above_the_fold_images);\n        }\n      } catch (err) {\n        this.errorCode = \"script_error\";\n        this.logger.logMessage(\"Script Error: \" + err);\n      }\n    }\n    _generateLcpCandidates(count) {\n      const lcpElements = document.querySelectorAll(this.config.elements);\n      if (lcpElements.length <= 0) {\n        return [];\n      }\n      const potentialCandidates = Array.from(lcpElements);\n      const topCandidates = potentialCandidates.map((element) => {\n        if (\"img\" === element.nodeName.toLowerCase() && \"picture\" === element.parentElement.nodeName.toLowerCase()) {\n          return null;\n        }\n        let rect;\n        if (\"picture\" === element.nodeName.toLowerCase()) {\n          const imgElement = element.querySelector(\"img\");\n          if (imgElement) {\n            rect = imgElement.getBoundingClientRect();\n          } else {\n            return null;\n          }\n        } else {\n          rect = element.getBoundingClientRect();\n        }\n        return {\n          element,\n          rect\n        };\n      }).filter((item) => item !== null).filter((item) => {\n        return item.rect.width > 0 && item.rect.height > 0 && Utils_default.isIntersecting(item.rect);\n      }).map((item) => ({\n        item,\n        area: this._getElementArea(item.rect),\n        elementInfo: this._getElementInfo(item.element)\n      })).sort((a, b) => b.area - a.area).slice(0, count);\n      return topCandidates.map((candidate) => ({\n        element: candidate.item.element,\n        elementInfo: candidate.elementInfo\n      }));\n    }\n    _getElementArea(rect) {\n      const visibleWidth = Math.min(rect.width, (window.innerWidth || document.documentElement.clientWidth) - rect.left);\n      const visibleHeight = Math.min(rect.height, (window.innerHeight || document.documentElement.clientHeight) - rect.top);\n      return visibleWidth * visibleHeight;\n    }\n    _getElementInfo(element) {\n      const nodeName = element.nodeName.toLowerCase();\n      const element_info = {\n        type: \"\",\n        src: \"\",\n        srcset: \"\",\n        sizes: \"\",\n        sources: [],\n        bg_set: [],\n        current_src: \"\"\n      };\n      const css_bg_url_rgx = /url\\(\\s*?['\"]?\\s*?(.+?)\\s*?[\"']?\\s*?\\)/ig;\n      if (nodeName === \"img\" && element.srcset) {\n        element_info.type = \"img-srcset\";\n        element_info.src = element.src;\n        element_info.srcset = element.srcset;\n        element_info.sizes = element.sizes;\n        element_info.current_src = element.currentSrc;\n      } else if (nodeName === \"img\") {\n        element_info.type = \"img\";\n        element_info.src = element.src;\n        element_info.current_src = element.currentSrc;\n      } else if (nodeName === \"video\") {\n        element_info.type = \"img\";\n        const source = element.querySelector(\"source\");\n        element_info.src = element.poster || (source ? source.src : \"\");\n        element_info.current_src = element_info.src;\n      } else if (nodeName === \"svg\") {\n        const imageElement = element.querySelector(\"image\");\n        if (imageElement) {\n          element_info.type = \"img\";\n          element_info.src = imageElement.getAttribute(\"href\") || \"\";\n          element_info.current_src = element_info.src;\n        }\n      } else if (nodeName === \"picture\") {\n        element_info.type = \"picture\";\n        const img = element.querySelector(\"img\");\n        element_info.src = img ? img.src : \"\";\n        element_info.sources = Array.from(element.querySelectorAll(\"source\")).map((source) => ({\n          srcset: source.srcset || \"\",\n          media: source.media || \"\",\n          type: source.type || \"\",\n          sizes: source.sizes || \"\"\n        }));\n      } else {\n        const computed_style = window.getComputedStyle(element, null);\n        const bg_props = [\n          computed_style.getPropertyValue(\"background-image\"),\n          getComputedStyle(element, \":after\").getPropertyValue(\"background-image\"),\n          getComputedStyle(element, \":before\").getPropertyValue(\"background-image\")\n        ].filter((prop) => prop !== \"none\");\n        if (bg_props.length === 0) {\n          return null;\n        }\n        const full_bg_prop = bg_props[0];\n        element_info.type = \"bg-img\";\n        if (full_bg_prop.includes(\"image-set(\")) {\n          element_info.type = \"bg-img-set\";\n        }\n        if (!full_bg_prop || full_bg_prop === \"\" || full_bg_prop.includes(\"data:image\")) {\n          return null;\n        }\n        const matches = [...full_bg_prop.matchAll(css_bg_url_rgx)];\n        element_info.bg_set = matches.map((m) => m[1] ? { src: m[1].trim() + (m[2] ? \" \" + m[2].trim() : \"\") } : {});\n        if (element_info.bg_set.every((item) => item.src === \"\")) {\n          element_info.bg_set = matches.map((m) => m[1] ? { src: m[1].trim() } : {});\n        }\n        if (element_info.bg_set.length > 0) {\n          element_info.src = element_info.bg_set[0].src;\n          if (element_info.type === \"bg-img-set\") {\n            element_info.src = element_info.bg_set;\n          }\n        }\n      }\n      return element_info;\n    }\n    _initWithFirstElementWithInfo(elements) {\n      const firstElementWithInfo = elements.find((item) => item.elementInfo !== null);\n      if (!firstElementWithInfo) {\n        this.logger.logMessage(\"No LCP candidate found.\");\n        this.performanceImages = [];\n        return;\n      }\n      this.performanceImages = [{\n        ...firstElementWithInfo.elementInfo,\n        label: \"lcp\"\n      }];\n    }\n    _fillATFWithoutDuplications(elements) {\n      elements.forEach(({ element, elementInfo }) => {\n        if (this._isDuplicateImage(element) || !elementInfo) {\n          return;\n        }\n        this.performanceImages.push({ ...elementInfo, label: \"above-the-fold\" });\n      });\n    }\n    _isDuplicateImage(image) {\n      const elementInfo = this._getElementInfo(image);\n      if (elementInfo === null) {\n        return false;\n      }\n      const isImageOrVideo = elementInfo.type === \"img\" || elementInfo.type === \"img-srcset\" || elementInfo.type === \"video\";\n      const isBgImageOrPicture = elementInfo.type === \"bg-img\" || elementInfo.type === \"bg-img-set\" || elementInfo.type === \"picture\";\n      return (isImageOrVideo || isBgImageOrPicture) && this.performanceImages.some((item) => item.src === elementInfo.src);\n    }\n    getResults() {\n      return this.performanceImages;\n    }\n  };\n  var BeaconLcp_default = BeaconLcp;\n\n  // src/Logger.js\n  var Logger = class {\n    constructor(enabled) {\n      this.enabled = enabled;\n    }\n    logMessage(msg) {\n      if (!this.enabled) {\n        return;\n      }\n      console.log(msg);\n    }\n  };\n  var Logger_default = Logger;\n\n  // src/BeaconManager.js\n  var BeaconManager = class {\n    constructor(config) {\n      this.config = config;\n      this.lcpBeacon = null;\n      this.infiniteLoopId = null;\n      this.errorCode = \"\";\n      this.logger = new Logger_default(this.config.debug);\n    }\n    async init() {\n      this.scriptTimer = /* @__PURE__ */ new Date();\n      if (!await this._isValidPreconditions()) {\n        this._finalize();\n        return;\n      }\n      this.infiniteLoopId = setTimeout(() => {\n        this._handleInfiniteLoop();\n      }, 1e4);\n      const isGeneratedBefore = await this._getGeneratedBefore();\n      let shouldSaveResultsIntoDB = false;\n      const shouldGenerateLcp = this.config.status.atf && isGeneratedBefore === false;\n      if (shouldGenerateLcp) {\n        this.lcpBeacon = new BeaconLcp_default(this.config, this.logger);\n        await this.lcpBeacon.run();\n        shouldSaveResultsIntoDB = true;\n      } else {\n        this.logger.logMessage(\"Not running BeaconLcp because data is already available\");\n      }\n      if (shouldSaveResultsIntoDB) {\n        this._saveFinalResultIntoDB();\n      } else {\n        this.logger.logMessage(\"Not saving results into DB as no beacon features ran.\");\n        this._finalize();\n      }\n    }\n    async _isValidPreconditions() {\n      const threshold = {\n        width: this.config.width_threshold,\n        height: this.config.height_threshold\n      };\n      if (Utils_default.isNotValidScreensize(this.config.is_mobile, threshold)) {\n        this.logger.logMessage(\"Bailing out because screen size is not acceptable\");\n        return false;\n      }\n      return true;\n    }\n    async _getGeneratedBefore() {\n      if (!Utils_default.isPageCached()) {\n        return false;\n      }\n      let data_check = new FormData();\n      data_check.append(\"action\", \"rocket_check_beacon\");\n      data_check.append(\"rocket_beacon_nonce\", this.config.nonce);\n      data_check.append(\"url\", this.config.url);\n      data_check.append(\"is_mobile\", this.config.is_mobile);\n      const beacon_data_response = await fetch(this.config.ajax_url, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: data_check\n      }).then((data) => data.json());\n      return beacon_data_response.success;\n    }\n    _saveFinalResultIntoDB() {\n      const results = {\n        lcp: this.lcpBeacon ? this.lcpBeacon.getResults() : null\n      };\n      const data = new FormData();\n      data.append(\"action\", \"rocket_beacon\");\n      data.append(\"rocket_beacon_nonce\", this.config.nonce);\n      data.append(\"url\", this.config.url);\n      data.append(\"is_mobile\", this.config.is_mobile);\n      data.append(\"status\", this._getFinalStatus());\n      data.append(\"results\", JSON.stringify(results));\n      fetch(this.config.ajax_url, {\n        method: \"POST\",\n        credentials: \"same-origin\",\n        body: data,\n        headers: {\n          \"wpr-saas-no-intercept\": true\n        }\n      }).then((response) => response.json()).then((data2) => {\n        this.logger.logMessage(data2);\n      }).catch((error) => {\n        this.logger.logMessage(error);\n      }).finally(() => {\n        this._finalize();\n      });\n    }\n    _getFinalStatus() {\n      if (\"\" !== this.errorCode) {\n        return this.errorCode;\n      }\n      const scriptTime = (/* @__PURE__ */ new Date() - this.scriptTimer) / 1e3;\n      if (10 <= scriptTime) {\n        return \"timeout\";\n      }\n      return \"success\";\n    }\n    _handleInfiniteLoop() {\n      this._saveFinalResultIntoDB();\n    }\n    _finalize() {\n      const beaconscript = document.querySelector('[data-name=\"wpr-wpr-beacon\"]');\n      beaconscript.setAttribute(\"beacon-completed\", \"true\");\n      clearTimeout(this.infiniteLoopId);\n    }\n  };\n  var BeaconManager_default = BeaconManager;\n\n  // src/BeaconEntryPoint.js\n  ((rocket_beacon_data) => {\n    if (!rocket_beacon_data) {\n      return;\n    }\n    const instance = new BeaconManager_default(rocket_beacon_data);\n    if (document.readyState !== \"loading\") {\n      setTimeout(() => {\n        instance.init();\n      }, rocket_beacon_data.delay);\n      return;\n    }\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      setTimeout(() => {\n        instance.init();\n      }, rocket_beacon_data.delay);\n    });\n  })(window.rocket_beacon_data);\n})();\n"],
  "mappings": "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",
>>>>>>> feature/lrc
  "names": ["BeaconUtils", "is_mobile", "threshold", "screenWidth", "screenHeight", "isNotValidForMobile", "isNotValidForDesktop", "signature", "rect", "Utils_default", "BeaconLcp", "config", "logger", "above_the_fold_images", "err", "count", "lcpElements", "element", "imgElement", "item", "a", "b", "candidate", "visibleWidth", "visibleHeight", "nodeName", "element_info", "css_bg_url_rgx", "source", "imageElement", "img", "bg_props", "prop", "full_bg_prop", "matches", "m", "elements", "firstElementWithInfo", "elementInfo", "image", "isImageOrVideo", "isBgImageOrPicture", "BeaconLcp_default", "Logger", "enabled", "msg", "Logger_default", "BeaconManager", "isGeneratedBefore", "shouldSaveResultsIntoDB", "data_check", "data", "results", "response", "data2", "error", "BeaconManager_default", "rocket_beacon_data", "instance"]
}
